const hotelSearchButton=document.getElementById("hotel-search-header-button"),hotelSearchDialogForm=document.querySelector(".hotel-search-dialog-form"),hotelSearchStartDateInput=document.getElementById("hotel-start-date"),hotelSearchEndDateInput=document.getElementById("hotel-end-date"),hotelSearchAdultCountInput=document.getElementById("adults-count"),hotelSearchChildrenCountInput=document.getElementById("children-count");let isStorageSupport=!0;try{hotelSearchStartDate=localStorage.getItem("hotelSearchStartDate"),hotelSearchEndDate=localStorage.getItem("hotelSearchEndDate"),adultCount=localStorage.getItem("adultCount"),childrenCount=localStorage.getItem("childrenCount"),hotelSearchStartDate&&(hotelSearchStartDateInput.value=hotelSearchStartDate),hotelSearchEndDate&&(hotelSearchEndDateInput.value=hotelSearchEndDate),adultCount&&(hotelSearchAdultCountInput.value=adultCount),childrenCount&&(hotelSearchChildrenCountInput.value=childrenCount)}catch(e){isStorageSupport=!1}function isValidDate(e){var t=new Date(e);return"[object Date]"!==Object.prototype.toString.call(t)||!isNaN(t.getTime())}function isValidInteger(e){return!isNaN(e)&&!isNaN(parseInt(e))}hotelSearchButton.addEventListener("click",function(e){e.preventDefault(),hotelSearchDialogForm.classList.toggle("visually-hidden"),hotelSearchDialogForm.classList.add("hotel-search-dialog-form-active"),hotelSearchDialogForm.classList.remove("hotel-search-dialog-form-error")}),hotelSearchDialogForm.addEventListener("submit",function(e){isValidDate(hotelSearchStartDateInput.value)&&isValidDate(hotelSearchEndDateInput.value)&&isValidInteger(hotelSearchAdultCountInput.value)&&0!=hotelSearchAdultCountInput.value&&isValidInteger(hotelSearchChildrenCountInput.value)?(localStorage.setItem("hotelSearchStartDate",hotelSearchStartDateInput.value),localStorage.setItem("hotelSearchEndDate",hotelSearchEndDateInput.value),localStorage.setItem("adultCount",hotelSearchAdultCountInput.value),localStorage.setItem("childrenCount",hotelSearchChildrenCountInput.value)):(e.preventDefault(),hotelSearchDialogForm.classList.add("hotel-search-dialog-form-error"))}),hotelSearchDialogForm.addEventListener("webkitAnimationEnd",function(e){hotelSearchDialogForm.classList.remove("hotel-search-dialog-form-active"),hotelSearchDialogForm.classList.remove("hotel-search-dialog-form-error")});